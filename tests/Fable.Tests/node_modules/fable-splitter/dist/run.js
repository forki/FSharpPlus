"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const child_process_1 = require("child_process");
let childCache = null;
function runScript(path, args) {
    if (childCache != null) {
        childCache.kill();
    }
    const child = child_process_1.spawn("node", [path].concat(args), {
        stdio: "inherit",
    });
    childCache = child;
    return new Promise((resolve, reject) => {
        child.on("error", (err) => {
            reject(err);
        });
        child.on("close", (code) => {
            resolve(code);
        });
    });
}
exports.default = runScript;
